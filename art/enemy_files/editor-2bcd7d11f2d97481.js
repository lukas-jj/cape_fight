!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1288512a-a6c4-4cfd-b74d-fec46ca43902",e._sentryDebugIdIdentifier="sentry-dbid-1288512a-a6c4-4cfd-b74d-fec46ca43902")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36770],{77594:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/crop-image/editor",function(){return r(97560)}])},9210:function(e,t,r){"use strict";r.d(t,{k:function(){return d},v:function(){return c}});var n=r(85893),i=r(57511),a=r(73935),o=r(85883),l=r(81875),s=r(57851);let c="0px -10px 30px rgba(0, 0, 0, 0.1)",d=e=>{let{isOpen:t,children:r,onClose:d,interactiveBackground:u=!1,lockBackground:h=!0,titleBar:f,bottomSection:m,initialHeight:g="45vh",minimumHeight:p,parentClassNames:v,contentParentClassNames:x,disableDrag:w,containerId:b,handleScroll:y}=e,{childRef:j,handleClose:k,handleTouchEnd:N,handleTouchMove:C,handleTouchStart:E,isMounted:S,contentRef:R,bottomSectionRef:V}=(0,o.G)(t,h,p,d),L=document.getElementById(i.UF);return t&&S&&L?(0,a.createPortal)((0,n.jsxs)("div",{className:(0,s.m)("text-black fixed grid inset-0 z-40 bg-gray-500 bg-opacity-10 lg:hidden ".concat(u&&"pointer-events-none"," overflow-hidden"),v),onClick:k,id:b,children:[(0,n.jsxs)("div",{className:(0,s.m)("relative overflow-y-auto bg-white dark:bg-darkSurface-100 mt-auto z-50 rounded-t-2xl pointer-events-auto h-full",x),style:{transform:"translateY(calc(100vh - ".concat(g,"))"),boxShadow:c},onClick:(0,l.U)(),ref:j,draggable:!0,children:[!w&&(0,n.jsxs)("div",{className:"sticky top-0 z-50 w-full flex flex-col items-center touch-none",onTouchStart:E,onTouchMove:C,onTouchEnd:N,children:[(0,n.jsx)("div",{className:"bg-irGray-400 dark:bg-darkSurface-600 mt-2",style:{width:"40px",height:"6px",borderRadius:"3px"}}),(0,n.jsx)("div",{className:"w-full",children:f})]}),w&&(0,n.jsx)("div",{className:"w-full",children:f}),(0,n.jsx)("div",{className:"overflow-y-auto h-full",onClick:(0,l.U)(),ref:R,onScroll:y,children:r})]}),m&&(0,n.jsx)("div",{className:"fixed left-0 right-0 bottom-0 z-50 pointer-events-auto",ref:V,onClick:(0,l.U)(),children:m})]}),L):null}},85883:function(e,t,r){"use strict";r.d(t,{T:function(){return l},G:function(){return s}});var n=r(88609),i=r(5486);function a(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var o=r(67294);let l="SKIP_TOUCH_ID_BOTTOM_MODAL",s=(e,t,r,s)=>{let c=(0,o.useRef)(null),d=(0,o.useRef)(null),u=(0,o.useRef)(null),[h,f]=(0,o.useState)(!1),m=(0,o.useRef)(0);(0,i.v)("Escape",e,()=>{e&&(null==s||s())});let g=()=>{c.current&&(c.current.style.overflowY="hidden",document.body.style.overflowY="hidden",document.documentElement.style.margin="0",document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.margin="0",document.body.style.height="100%",document.body.style.overflow="hidden")},p=()=>{c.current&&(c.current.style.overflowY="scroll"),document.documentElement.style.overflow="auto",document.body.style.overflow="auto"},v=()=>(window.innerHeight-m.current)*100/window.innerHeight,x=()=>window.innerHeight,w=e=>x()*e/100;(0,o.useEffect)(()=>{t&&(e?(document.body.scrollTop=document.documentElement.scrollTop=0,document.body.style.overflowY="hidden",g(),b()):document.body.style.overflowY="scroll")},[e,t]);let b=()=>{c.current&&(m.current=c.current.getBoundingClientRect().y)},y=e=>{var t,r;e.style.height="".concat(window.innerHeight-e.getBoundingClientRect().y-(null!==(r=null===(t=u.current)||void 0===t?void 0:t.getBoundingClientRect().height)&&void 0!==r?r:0),"px")};(0,o.useEffect)(()=>{f(!0)},[]),(0,o.useEffect)(()=>{e&&d.current&&y(d.current)},[e,d.current]);let j=(0,o.useRef)(0),k=(0,o.useRef)(!1);async function N(e){"INPUT"===e.target.tagName&&(k.current=!0,!(v()<j.current)&&(j.current=v(),c.current&&(c.current.style.transform="translateY(0vh)")))}function C(e){if("INPUT"!==e.target.tagName)return;let t=e.relatedTarget;(!t||"INPUT"!==t.tagName)&&(k.current=!1,c.current&&(c.current.style.transform="translateY(".concat(100-j.current,"vh)")),d.current&&y(d.current))}(0,o.useEffect)(()=>{var e,t;m.current=null!==(t=null===(e=c.current)||void 0===e?void 0:e.getBoundingClientRect().y)&&void 0!==t?t:0,E.current=window.innerHeight},[c]);let E=(0,o.useRef)(0),S=(0,n.N)();function R(){S(async()=>{d.current&&y(d.current),E.current=window.innerHeight})}return(0,o.useEffect)(()=>(window.addEventListener("resize",R),a()||(document.body.addEventListener("focusin",N),document.body.addEventListener("focusout",C)),()=>{window.removeEventListener("resize",R),a()||(document.body.removeEventListener("focusin",N),document.body.removeEventListener("focusout",C))}),[]),{handleClose:e=>{!k.current&&(e.stopPropagation(),s&&s())},isMounted:h,childRef:c,handleTouchEnd:e=>{var t;if((null===(t=document.getElementById(l))||void 0===t?void 0:t.contains(e.target))||!c.current||k.current)return;p();let n=v();if(c.current.style.transform="translateY(".concat(100-n,"vh)"),n<0){s&&s();return}if(n>95&&(c.current.style.transform="translateY(0vh)"),r)w(n)<r&&(c.current.style.transform="translateY(".concat(100-(r<25?25:r),"vh)"));else if(n<20){c.current.style.transform="translateY(100vh)",s&&s();return}d.current&&y(d.current)},handleTouchMove:e=>{if(m.current=e.touches[0].clientY,e.stopPropagation(),!c.current)return;let t=v();t<=100&&(c.current.style.transform="translateY(".concat(100-t,"vh)"))},handleTouchStart:e=>{e.stopPropagation(),g()},contentRef:d,bottomSectionRef:u}}},67629:function(e,t,r){"use strict";r.d(t,{w:function(){return i}});var n=r(85893);let i=e=>{let{stroke:t="#27AE60"}=e;return(0,n.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M6.55469 11.0005L9.88802 14.3339L15.4436 8.77832",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1 11C1 9.68678 1.25866 8.38642 1.7612 7.17317C2.26375 5.95991 3.00035 4.85752 3.92893 3.92893C4.85752 3.00035 5.95991 2.26375 7.17317 1.7612C8.38642 1.25866 9.68678 1 11 1C12.3132 1 13.6136 1.25866 14.8268 1.7612C16.0401 2.26375 17.1425 3.00035 18.0711 3.92893C18.9997 4.85752 19.7363 5.95991 20.2388 7.17317C20.7413 8.38642 21 9.68678 21 11C21 13.6522 19.9464 16.1957 18.0711 18.0711C16.1957 19.9464 13.6522 21 11 21C8.34784 21 5.8043 19.9464 3.92893 18.0711C2.05357 16.1957 1 13.6522 1 11V11Z",stroke:t,strokeWidth:"2",strokeLinecap:"round"})]})}},90668:function(e,t,r){"use strict";r.d(t,{a:function(){return a}});var n=r(85893),i=r(57851);let a=e=>{let{height:t,width:r,className:a}=e;return(0,n.jsxs)("svg",{width:null!=r?r:124,height:null!=t?t:124,viewBox:"0 0 124 124",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,i.m)("animate-spin stroke-irGray-600 dark:stroke-white",a),children:[(0,n.jsx)("path",{d:"M68.3691 106.127C50.2623 108.732 31.6537 99.9449 22.6068 82.8604C11.0939 61.1191 19.3987 34.1192 41.1401 22.6063C47.1813 19.4073 53.6278 17.7384 60.0366 17.4622",strokeWidth:"22",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M48.2306 104.387C37.5987 100.934 28.2455 93.5087 22.6069 82.8605C11.094 61.1191 19.3988 34.1193 41.1401 22.6064C47.1814 19.4073 53.6279 17.7385 60.0367 17.4623",strokeWidth:"23",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M30.774 93.8227C27.5811 90.6907 24.8101 87.022 22.6064 82.8604C11.0935 61.1191 19.3983 34.1192 41.1396 22.6063C47.1809 19.4073 53.6274 17.7385 60.0362 17.4622",strokeWidth:"24",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M19.8691 76.575C12.7829 56.1563 21.453 33.0314 41.1402 22.6064C47.1814 19.4073 53.6279 17.7385 60.0367 17.4622",strokeWidth:"25",strokeLinecap:"round",strokeLinejoin:"round"})]})}},28168:function(e,t,r){"use strict";r.d(t,{r:function(){return i}});var n=r(85893);let i=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{fill:"none",className:"w-6 h-6 ".concat(t),viewBox:"0 0 24 24",children:[(0,n.jsx)("path",{d:"M4 6a2 2 0 012-2h12a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2V6z"}),(0,n.jsx)("path",{d:"M14 15c0 3 2 5 2 5H8s2-2 2-5"})]})}},15139:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var n=r(85893),i=r(67294);let a=(e,t,r,n,a,o,l,s)=>{let c=(0,i.useRef)(null),d="".concat("number"===e&&void 0===t?"":t),[u,h]=(0,i.useState)(d);function f(e,t){t.target.value="".concat(e),null==r||r(t)}return(0,i.useEffect)(()=>{if(!u.includes(".")){h(void 0===a?"":"".concat(a));return}"".concat(a).includes(".")?h("".concat(a)):u.split(".")[0]!=="".concat(a)&&h("".concat(a))},[a]),(0,i.useEffect)(()=>{!n&&"number"===e&&a&&(a?h(parseInt("".concat(null!=a?a:0)).toString()):h("0"))},[n]),{ref:c,internalValue:u,handleChange:function(t){var r,i;let a=t.target.value,s=a[a.length-1],c=a.length>u.length;if("number"!==e){f(t.target.value,t);return}if(!n){if(!s){f("0",t);return}if(!/^[0-9.]+$/.test(s))return;f(parseInt(null!==(r=t.target.value)&&void 0!==r?r:0),t);return}if(void 0===a||void 0===s){h(d),f(d,t);return}if(!(!/^[0-9.]+$/.test(s)||"."===s&&u.includes(".")&&c||c&&(u.includes(".")&&u.split(".")[1].length>=2||void 0!==o&&Number(a<o)||void 0!==l&&Number(a>l)))){if(a.length>1&&"0"===a[0]&&"."!==a[1]&&(a=a.substring(1)),h(a),u.includes(".")){let e=null!==(i=a.split(".")[1])&&void 0!==i?i:"";if(c){if(""===e||"0"===e)return;f(a,t)}else"."!==u[u.length-1]&&f(a,t);return}f(a,t)}},handleFocus:function(){var e;s&&(null===(e=c.current)||void 0===e||e.select())},handleBlur:function(){}}};var o=r(57851);let l=e=>{let{className:t,onChange:r,shouldSelect:i=!0,value:l,defaultValue:s,type:c,acceptFloat:d,max:u,min:h,onBlur:f,...m}=e,{internalValue:g,ref:p,handleChange:v,handleFocus:x,handleBlur:w}=a(c,s,r,d,l,h,u,i);return(0,n.jsx)("input",{...m,value:g,className:(0,o.m)("focus:outline-irBlue-400 dark:focus:outline-none p-2 rounded-lg border-irGray-400 dark:border-darkSurface-100 border select-all h-12 bg-white dark:bg-darkSurface-200",t),ref:p,onChange:v,max:u,min:h,onFocus:x,onBlur:e=>{f&&f(e),w()}})}},66753:function(e,t,r){"use strict";var n=r(85893),i=r(41664),a=r.n(i),o=r(11163),l=r(45777);t.Z=e=>{var t;let r=(0,o.useRouter)().locale||"/en",i=(null===(t=e.href)||void 0===t?void 0:t.toString())||"";return!i.includes("http")&&!i.includes("meme-generator")&&(i.includes("-converter")||i.includes("-to-")||s(i,r))?("en"===r||i.startsWith("/".concat(r,"/"))||(i="/".concat(r).concat("/"===i[0]?i:"/".concat(i))),(0,n.jsx)("a",{...e,href:i,children:e.children})):(0,n.jsx)(a(),{...e,children:e.children})};let s=(e,t)=>{var r;return(null===(r=l.Z["/image-converter"])||void 0===r?void 0:r[null!=t?t:"en"])===e.replace("/","")}},91421:function(e,t,r){"use strict";r.d(t,{G:function(){return c}});var n=r(85893),i=r(5486),a=r(52899),o=r(67294);let l=(e,t)=>{let r=(0,o.useRef)(null);return(0,a.t)(r,e,()=>t&&t()),(0,i.v)("Escape",e,()=>t&&t()),{parentRef:r}};var s=r(57851);let c=e=>{let{isOpen:t,close:r,children:i,content:a,className:o,isShrinked:c}=e,{parentRef:d}=l(t,r);return(0,n.jsxs)("div",{className:(0,s.m)("relative z-10",o),ref:d,children:[(0,n.jsx)("div",{className:"flex items-center ".concat(c?"justify-start":"justify-center"),children:i}),t&&(0,n.jsx)("div",{children:a})]})}},92165:function(e,t,r){"use strict";r.d(t,{Y:function(){return i}});var n=r(85893);let i=e=>{let{value:t,label:r,isDisabled:i=!1,handleClick:a,className:o,...l}=e;return(0,n.jsxs)("div",{className:"w-full cursor-pointer flex items-center gap-4 ".concat(o),onClick:e=>{e.stopPropagation(),i||a()},...l,children:[(0,n.jsx)("div",{className:"flex items-center justify-center w-5 h-5 border ".concat(i?"border-irGray-600":"border-irBlue-200 dark:border-darkPrimary-200","  rounded-full flex-shrink-0"),children:t&&(0,n.jsx)("div",{className:"rounded-full ".concat(i?"bg-irGray-600":"bg-irBlue-200 dark:bg-darkPrimary-200"),style:{height:"10px",width:"10px"}})}),r&&(0,n.jsx)("div",{className:"".concat(i?"text-irGray-600":""),children:r})]})}},58092:function(e,t,r){"use strict";r.d(t,{m:function(){return l}});var n=r(85893),i=r(14416),a=r(57989),o=r(294);let l=e=>{let{children:t}=e;return(0,n.jsxs)(i.Provider,{store:a.h,children:[t,(0,n.jsx)(o.r,{})]})}},294:function(e,t,r){"use strict";r.d(t,{w:function(){return u},r:function(){return h}});var n=r(85893),i=r(82656),a=r(73935),o=r(67629);let l=e=>{let{toast:t}=e;return(0,n.jsxs)("div",{className:"font-semibold py-2 px-4 flex items-center gap-4 ".concat("success"===t.status?"bg-success":"error"===t.status?"bg-error":"information"===t.status?"bg-information":(t.status,"bg-warning")," text-white text-xl rounded-md my-1 animate-scale-in"),children:["success"===t.status&&(0,n.jsx)("div",{className:"",children:(0,n.jsx)(o.w,{stroke:"white"})}),(0,n.jsx)("div",{className:"",id:"toast-text",children:t.text})]})};var s=r(57989);let c=e=>e.toasts;var d=r(57511);let u=7e3,h=()=>{let{mounted:e}=(0,i.s)(),t=document.getElementById(d.Se),{toasts:r}=(0,s.CG)(c);return t&&e?(0,a.createPortal)((0,n.jsxs)("div",{className:"fixed z-50",children:[(0,n.jsx)("div",{className:"fixed top-5 left-5 flex flex-col items-center",children:r.filter(e=>"top-left"===e.position).slice(0,3).map(e=>(0,n.jsx)(l,{toast:e},e.id))}),(0,n.jsx)("div",{className:"fixed top-5 left-0 right-0 flex flex-col items-center",children:r.filter(e=>"top-center"===e.position).slice(0,3).map(e=>(0,n.jsx)(l,{toast:e},e.id))}),(0,n.jsx)("div",{className:"fixed top-5 right-5 flex flex-col items-center",children:r.filter(e=>"top-right"===e.position).slice(0,3).map(e=>(0,n.jsx)(l,{toast:e},e.id))}),(0,n.jsx)("div",{className:"fixed bottom-5 right-5 flex flex-col items-center",children:r.filter(e=>"bottom-right"===e.position).slice(0,3).reverse().map(e=>(0,n.jsx)(l,{toast:e},e.id))}),(0,n.jsx)("div",{className:"fixed bottom-5 left-0 right-0 flex flex-col items-center",children:r.filter(e=>"bottom-center"===e.position).slice(0,3).reverse().map(e=>(0,n.jsx)(l,{toast:e},e.id))}),(0,n.jsx)("div",{className:"fixed bottom-5 left-5 flex flex-col items-center",children:r.filter(e=>"bottom-left"===e.position).slice(0,3).reverse().map(e=>(0,n.jsx)(l,{toast:e},e.id))})]}),t):null}},77591:function(e,t,r){"use strict";r.d(t,{p:function(){return s}});let{addToast:n,removeToast:i,removeBatch:a}=r(86203).toastsSlice.actions;var o=r(57989),l=r(74578);let s=()=>{let e=(0,o.TL)();return{toast:t=>{let r=(0,l.w)();return e(n({toast:{id:r,...t}})),t.time&&setTimeout(()=>{e(i({id:r}))},t.time),r},removeToast:t=>e(i({id:t})),removeBatch:t=>e(a({batch:t}))}}},57170:function(e,t,r){"use strict";r.r(t),r.d(t,{EditorNavbar:function(){return l}});var n=r(85893),i=r(47804),a=r(44887),o=r(49476);let l=e=>{let{actionButton:t,url:r,urlSlugVariables:l}=e;return(0,n.jsxs)("div",{className:"flex min-w-0 border-b-slate-200 dark:border-b-darkSurface-600 border-b flex-row items-center h-16 px-4 md:px-8 py-4 dark:bg-darkSurface-100",children:[(0,n.jsx)("div",{className:"mx-4 lg:hidden",children:(0,n.jsx)(o.$,{isEditor:!0,url:r,urlSlugVariables:l})}),(0,n.jsx)(i.K,{isEditor:!0}),(0,n.jsx)("div",{className:"mr-16"}),(0,n.jsx)("div",{className:"ml-auto lg:hidden",children:t}),(0,n.jsx)(a.a,{isEditor:!0})]})}},87694:function(e,t,r){"use strict";r.d(t,{y:function(){return n}});let n=["links","common","trust-pilot"]},80478:function(e,t,r){"use strict";r.d(t,{F:function(){return a},K:function(){return o}});var n=r(85893),i=r(67294);let a=(0,i.createContext)({parentImageRef:null,resizeRef:null,cropRef:null,flipRef:null,rotateRef:null,initialImageRef:null,imageLoaded:!1,setImageLoaded:()=>{}}),o=e=>{let{children:t}=e,r=(0,i.useRef)(null),o=(0,i.useRef)(null),l=(0,i.useRef)(null),s=(0,i.useRef)(null),c=(0,i.useRef)(null),d=(0,i.useRef)(null),[u,h]=(0,i.useState)(!1);return(0,n.jsx)(a.Provider,{value:{parentImageRef:r,resizeRef:o,cropRef:l,flipRef:s,rotateRef:c,imageLoaded:u,setImageLoaded:h,initialImageRef:d},children:t})}},88609:function(e,t,r){"use strict";r.d(t,{N:function(){return i}});var n=r(67294);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=(0,n.useRef)(null);return r=>{t.current&&clearTimeout(t.current),t.current=setTimeout(r,e)}}},52899:function(e,t,r){"use strict";r.d(t,{t:function(){return a}});var n=r(57511),i=r(67294);let a=(e,t,r,a,o)=>{let[l,s]=(0,i.useState)(!1),c=(0,i.useCallback)(t=>{!(!e.current||e.current.contains(t.target))&&(a&&a.some(e=>{let r=document.getElementById(e);return!!r&&!!r.contains(t.target)})||r())},[r,a,e]),d=(0,i.useCallback)(t=>{var r;if(!e.current||e.current.contains(t.target)||(null===(r=document.getElementById(n.Se))||void 0===r?void 0:r.contains(t.target))||(null==a?void 0:a.some(e=>{let r=document.getElementById(e);return!!r&&!!r.contains(t.target)})))return},[r,a,e]),u=(0,i.useCallback)(()=>{t&&!l&&setTimeout(()=>{document.addEventListener("click",c),document.addEventListener("touchstart",d),s(!0)},(null==o?void 0:o.delay)||0)},[c,d,l,t]);(0,i.useEffect)(()=>{u()},[e,t,r,u])}},29869:function(e,t,r){"use strict";r.d(t,{i:function(){return i}});var n=r(67294);function i(){let[e,t]=(0,n.useState)({width:window.innerWidth,height:window.innerHeight});return a(()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e}let a=n.useLayoutEffect},90495:function(e,t,r){"use strict";var n=r(9669);let i=r.n(n)().create({headers:{}});i.interceptors.request.use(async e=>e,e=>Promise.reject(e)),t.Z=i},67807:function(e,t,r){"use strict";r.d(t,{A6:function(){return d},D9:function(){return i},E_:function(){return h},QL:function(){return c},QQ:function(){return n},SL:function(){return u},VX:function(){return o},cl:function(){return a},vr:function(){return s},y1:function(){return l}});let{setHeight:n,setRatio:i,setWidth:a,setLeft:o,setTop:l,toggleCropOrientation:s,setImage:c,setUploadData:d,setCustomRatioX:u,setCustomRatioY:h}=r(86041).cropSlice.actions},69369:function(e,t,r){"use strict";r.d(t,{y:function(){return o}});var n=r(80478),i=r(89007),a=r(67294);let o=e=>{let{parentImageRef:t,imageLoaded:r}=(0,a.useContext)(n.F),[o,l]=(0,a.useState)(!1);async function s(){let n=null==t?void 0:t.current,a=null==e?void 0:e.current;n&&a&&r&&(a.width=n.width,a.height=n.height,await (0,i.L)(n.getAttribute("src")||"",a),l(!0))}return(0,a.useEffect)(()=>{s()},[r]),{isLoaded:o}}},27181:function(e,t,r){"use strict";r.d(t,{c:function(){return a}});let n=(e,t)=>{var r,n,a,o,l;return r=e,n=t,(a=function(e,t){return 0===t?e:a(t,e%t)},i(r)&&i(n))?r===n?"1 : 1":(+r<+n&&(o=r,r=n,n=o),l=a(+r,+n),void 0===o?r/l+" : "+n/l:n/l+" : "+r/l):"? : ?"};function i(e){return/^[0-9]+$/.test(e)}let a=(e,t,r,i,a)=>{var o,l;let s=t,c=e,d=n(e,t),u=null!==(o=Number(d.split(":")[0]))&&void 0!==o?o:1,h=null!==(l=Number(d.split(":")[1]))&&void 0!==l?l:1;return t>i&&(c=u/h*(s=i)),c>r&&(s=h/u*(c=r)),c>i&&a&&(s=h/u*(c=i)),s>r&&a&&(c=u/h*(s=c)),{width:c,height:s}}},19108:function(e,t,r){"use strict";r.d(t,{k:function(){return n}});let n=e=>e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")},85186:function(e,t,r){"use strict";r.d(t,{f:function(){return n}});let n=(e,t,r)=>{let n=document.createElement("a");n.href=e,n.download=t,r&&(n.target="_blank"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},94273:function(e,t,r){"use strict";r.d(t,{G:function(){return o}});var n=r(90495),i=r(43760);let a=["heic","heif",".heic",".heif"],o=async(e,t,o,l,s)=>new Promise((c,d)=>{n.Z.get(e,{onDownloadProgress:e=>{let r=Math.floor(e.loaded/(t||e.total)*100);o&&o(r,e.loaded)},headers:{...null!=l?l:{}},responseType:"blob"}).then(async t=>{if(a.includes((0,i.v)(e))||s&&a.includes(s)){let e=(await r.e(74838).then(r.t.bind(r,1616,23))).default,n=await e({blob:t.data});c({src:URL.createObjectURL(Array.isArray(n)?n[0]:n)});return}let n=new FileReader;n.readAsDataURL(t.data),n.onload=async function(e){let t=n.result;t&&(t instanceof ArrayBuffer?c({src:t.toString()}):"string"==typeof t&&c({src:t}))},n.onerror=function(e){c({src:"",error:!0})}}).catch(e=>{c({src:"",error:!0})})})},74578:function(e,t,r){"use strict";r.d(t,{w:function(){return i}});var n=r(25934);let i=()=>(0,n.Z)()},43760:function(e,t,r){"use strict";r.d(t,{v:function(){return n}});let n=e=>{try{let t=new URL(e);return t.pathname.split(".")[t.pathname.split(".").length-1]}catch(e){return""}}},19704:function(e,t,r){"use strict";r.d(t,{p:function(){return n}});let n=(e,t)=>new Promise((r,n)=>{let i=new Image;i.src=e,t&&(i.crossOrigin="Anonymous"),i.onload=()=>{r({image:i,width:i.width,height:i.height})},i.onerror=()=>{console.log("image.onerror"),r({image:i,width:0,height:0,error:!0})}})},89007:function(e,t,r){"use strict";r.d(t,{L:function(){return n}});let n=async(e,t)=>new Promise((r,n)=>{t.src=e,t.onload=()=>{r()},t.onerror=()=>{n()}})},40524:function(e,t,r){"use strict";r.d(t,{_:function(){return n}});let n=async e=>new Promise(t=>{let r=setTimeout(()=>{t(void 0),clearTimeout(r)},null!=e?e:10)})},81875:function(e,t,r){"use strict";r.d(t,{U:function(){return n}});let n=e=>t=>{t.stopPropagation(),null==e||e(t)}},97560:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return ey},default:function(){return ej}});var n=r(85893),i=r(80478),a=r(74060),o=r(57170),l=r(11163),s=r(67294),c=r(57989),d=r(77146);let u=()=>{let{isOpen:e,open:t,onClose:r}=(0,d.O)();return{isOpen:e,open:t,close:r}};var h=r(98385),f=r(9210),m=r(71271),g=r(19108),p=r(77801),v=r(15139),x=r(83469),w=r(92348);let b=e=>{let{ratio:t,handleCropRatioChange:r,customRatioX:i,customRatioY:a,handleCustomRatioXChange:o,handleCustomRatioYChange:l}=e,s={freeform:(0,p.V)("freeform"),original:(0,p.V)("original"),custom:(0,p.V)("custom"),"1:1":"1:1 (".concat((0,g.k)((0,p.V)("square")),")"),"4:3":"4:3 (".concat((0,g.k)((0,p.V)("monitor")),")"),"14:9":"14:9","16:9":"16:9 (".concat((0,g.k)((0,p.V)("wide-screen")),")"),"16:10":"16:10","2:1":"2:1","3:1":"3:1 (".concat((0,g.k)((0,p.V)("panaroma")),")"),"4:1":"4:1","3:2":"3:2 (35mm ".concat((0,p.V)("film"),")"),"5:4":"5:4","7:5":"7:5","19:10":"19:10","21:9":"21:9 (".concat((0,g.k)((0,p.V)("cinemascope")),")"),"32:9":"32:9 (".concat((0,g.k)((0,p.V)("super-ultra-wide")),")"),"180:180":"".concat((0,p.V)("fb-profile")," 170x170"),"820:312":"".concat((0,p.V)("fb-cover")," 820x312"),"1200:900":"".concat((0,p.V)("fb-post")," 1200x900"),"1280:720":"".concat((0,p.V)("fb-ad")," 1280x720"),"110:110":"".concat((0,p.V)("insta-profile")," 110x110"),"320:320":"".concat((0,p.V)("insta-post")," 320x320"),"1080:1920":"".concat((0,p.V)("insta-story")," 1080x1920"),"400:400":"".concat((0,p.V)("twitter-profile")," 400x400"),"1500:1500":"".concat((0,p.V)("twitter-header")," 1500x1500"),"1024:512":"".concat((0,p.V)("twitter-image")," 1024x512"),"1200:628":"".concat((0,p.V)("twitter-card")," 1200x628"),"1200:675":"".concat((0,p.V)("twitter-ad")," 1200x675"),"800:800":"".concat((0,p.V)("yt-profile")," 800x800"),"2560:1440":"".concat((0,p.V)("yt-channel-art")," 2560x1440"),"5120:2880":"".concat((0,p.V)("yt-thumb")," 1280x720"),"1024:768":"".concat((0,p.V)("web-mini")," 1024x768"),"1280:800":"".concat((0,p.V)("web-small")," 1280x800"),"1366:768":"".concat((0,p.V)("web-common")," 1366x768"),"1440:900":"".concat((0,p.V)("web-medium")," 1440x900"),"1920:1080":"".concat((0,p.V)("full-hd")," 1920x1080"),"3840:2160":"".concat((0,p.V)("ultra-hd")," 4x 3840x2160"),"2480:3508":"".concat((0,p.V)("paper-a-4")," 2480x3508"),"1748:2480":"".concat((0,p.V)("paper-a-5")," 1748x2480"),"1280:1748":"".concat((0,p.V)("paper-a-6")," 1280x1748"),"2400:3300":"".concat((0,p.V)("paper-letter")," 2400x3300")};return(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)(x.P,{options:w.A.map(e=>e),getOptionValue:e=>e,value:t,handleClick:r,label:(0,p.V)("aspect-ratio"),getOptionLabel:e=>s[e],testKey:"crop-settings-crop-ratio"}),"custom"===t&&(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"capitalize mb-2",children:"".concat((0,g.k)((0,p.V)("ratio"))," (X)")}),(0,n.jsx)(v.I,{className:"w-full",type:"number",acceptFloat:!0,min:0,value:i,onChange:e=>o(+e.target.value),"data-testid":"crop-settings-left"})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"capitalize mb-2",children:"".concat((0,g.k)((0,p.V)("ratio"))," (Y)")}),(0,n.jsx)(v.I,{className:"w-full",type:"number",min:0,acceptFloat:!0,value:a,onChange:e=>l(+e.target.value),"data-testid":"crop-settings-top"})]})]})]})},y=e=>e.crop,j=()=>{let{crop:{height:e,width:t}}=(0,c.CG)(y,k);return{height:e,width:t}},k=(e,t)=>e.crop.height===t.crop.height&&e.crop.width===t.crop.width;var N=r(9529);let C=e=>{let{handleWidthChange:t,handleHeightChange:r}=e,{height:i,width:a}=j();return(0,n.jsxs)("div",{className:"flex max-w-full items-end gap-2",children:[(0,n.jsxs)("div",{className:"flex flex-col min-w-0 gap-2",children:[(0,n.jsx)("div",{className:"capitalize","data-testid":"width-input-label",children:(0,n.jsx)(N.vN,{keyName:"width"})}),(0,n.jsx)(v.I,{type:"number",value:Math.round(a),min:0,onChange:t,"data-testid":"width-input"})]}),(0,n.jsxs)("div",{className:"flex flex-col min-w-0 gap-2",children:[(0,n.jsx)("div",{className:"capitalize","data-testid":"height-input-label",children:(0,n.jsx)(N.vN,{keyName:"height"})}),(0,n.jsx)(v.I,{type:"number",value:Math.round(i),min:0,onChange:r,"data-testid":"height-input"})]})]})};var E=r(82537),S=r(67807),R=r(58413),V=r(8284),L=r(66083),B=r(14743),P=r(97885),T=r(85186),I=r(69508),_=r(19704),H=r(40524);let W=()=>{let{initialImageRef:e,imageLoaded:t}=(0,s.useContext)(i.F),[n,a]=(0,s.useState)(!1),{consumeQuotaByFrontendTool:o}=(0,L.W)(),l=(0,s.useRef)(!1),d=()=>{(0,B.ga)("send",{hitType:"pageview",page:"/vp/image_cropper/export_started/",title:"Image Cropper Export Started"}),(0,P.S)("event","Export Started",{event_category:"Image Cropper",event_label:"Editor Page"})},u=async()=>{var t,r;let n=c.h.getState().crop.image;if(!n)return;let i=c.h.getState().crop.crop;d(),a(!0),await (0,H._)(100);let o=document.createElement("canvas"),l=o.getContext("2d");if(!l)return;o.width=i.width,o.height=i.height;let{image:s}=await (0,_.p)(null!==(r=null==e?void 0:null===(t=e.current)||void 0===t?void 0:t.getAttribute("src"))&&void 0!==r?r:(0,I.J)(n.src));l.drawImage(s,i.left,i.top,i.width,i.height,0,0,i.width,i.height);let u=o.toDataURL("image/jpeg",n.title);(0,T.f)(u,n.title),a(!1)};return{handleClick:async()=>{let t=c.h.getState().crop.image;if(t){d(),a(!0);try{var n,i;let a=c.h.getState().crop.crop,s=new Worker(r.tu(new URL(r.p+r.u(74477),r.b))),d=crypto.randomUUID(),u=new Promise((e,t)=>{s.onmessage=r=>{r.data.messageId===d&&(r.data.error?t(Error(r.data.error)):e(r.data))},s.onerror=e=>{t(e)}}),h=null!==(i=null==e?void 0:null===(n=e.current)||void 0===n?void 0:n.getAttribute("src"))&&void 0!==i?i:(0,I.J)(t.src);s.postMessage({imageUrl:h,crop:a,title:t.title,messageId:d});let{url:f,title:m}=await u;l.current||(o(),l.current=!0),(0,T.f)(f,m),s.terminate(),URL.revokeObjectURL(f)}catch(e){console.error("Error processing image:",e),await u()}finally{a(!1)}}},isActive:t&&!n,imageLoaded:t,isProcessing:n}};var z=r(48517),D=r(69369);let G=null,A=!1,O=()=>{let{crop:{width:e,height:t,ratio:r,customRatioValues:{x:n,y:a}},image:o}=(0,c.CG)(y,U),l=(0,c.TL)(),{cropRef:d,parentImageRef:u}=(0,s.useContext)(i.F),{isLoaded:h}=(0,D.y)(d);A=h;let f=(0,s.useRef)(null),m=e=>o?e/(o.originalWidth/o.initialWidth):e,g=e=>o?o.originalWidth/o.initialWidth*e:e,p=e=>o?e/(o.originalHeight/o.initialHeight):e,v=e=>o?o.originalHeight/o.initialHeight*e:e,x=e=>o?e/(o.originalWidth/o.initialWidth):e,b=e=>o?o.originalWidth/o.initialWidth*e:e,j=e=>o?e/(o.originalHeight/o.initialHeight):e,k=e=>o?o.originalHeight/o.initialHeight*e:e,N=e=>{if(!G||!o||!(null==u?void 0:u.current))return;let t=G.getCropBoxData();"original"===e?G.setAspectRatio(o.ratio):"custom"===e?null==G||G.setAspectRatio(1):G.setAspectRatio((0,R.O)(e)),l((0,S.D9)({ratio:e,cropBoxData:G.getCropBoxData()}));let{width:r,height:n}=G.getCropBoxData();G.setCropBoxData({...t,width:r,height:n}),l((0,S.cl)(g(r))),l((0,S.QQ)(v(n)))},C=()=>({aspectRatio:0,zoomable:!1,crop:(e,t,r,n)=>{l((0,S.cl)(g(e))),l((0,S.QQ)(v(t))),l((0,S.y1)(k(r))),l((0,S.VX)(b(n)))},cropend:(e,t)=>{l((0,S.cl)(g(e))),l((0,S.QQ)(v(t)))},cropdrag:(e,t)=>{l((0,S.y1)(k(e))),l((0,S.VX)(b(t)))},cropresize:(e,t,r,n)=>{l((0,S.cl)(g(e))),l((0,S.QQ)(v(t))),l((0,S.y1)(k(r))),l((0,S.VX)(b(n)))},minContainerHeight:0,minContainerWidth:0}),L=()=>{if(!A||!(null==d?void 0:d.current)||!o||G)return null;let{cropper:e}=(0,E.r)(d.current,C());return G=e},{handleClick:B,isProcessing:P,isActive:T}=W(),I=(0,V.e)(),_=()=>{I(async()=>{await B(),document.body.dispatchEvent(new Event("crop-complete"))})},H=()=>{I(()=>{var e;null===(e=f.current)||void 0===e||e.click()})},O=(e,t)=>{if(e<=0||t<=0||!G)return;let r=G.getCropBoxData();G.setAspectRatio(e/t),M(G,r)},M=(e,t)=>{let{width:r,height:n}=e.getCropBoxData();e.setCropBoxData({...t,width:r,height:n}),l((0,S.cl)(g(r))),l((0,S.QQ)(v(n)))};return(0,s.useEffect)(()=>(document.body.addEventListener("crop-apply",_),document.body.addEventListener("crop-reset",H),()=>{document.body.removeEventListener("crop-apply",_),document.body.removeEventListener("crop-reset",H)}),[]),(0,s.useEffect)(()=>{G&&(G.destroy(),G=null),h&&L()},[h,o]),{handleCrop:()=>B(),handleReset:()=>{o&&(G&&G.destroy(),G=null,L(),N("freeform"),document.body.dispatchEvent(new Event("crop-reset-complete")))},handleToggleCropOrientation:()=>{if(o){if(l((0,S.QQ)(e)),l((0,S.cl)(t)),null==G||G.setCropBoxData({width:m(t),height:p(e)}),e/t==o.originalWidth/o.originalHeight)N("original");else{let r=w.A.filter(e=>"custom"!==e&&"original"!==e&&"freeform"!==e).find(r=>(0,R.O)(r)===e/t);r?N(r):N("custom")}}},handleWidthChange:e=>{if(!o)return;let i=Number(e.target.value),s=i>0?i>o.originalWidth?o.originalWidth:i:0;if("freeform"!==r){let e=t;e="original"===r?o.originalHeight/o.originalWidth*s:"custom"===r?(0,z.c)(a,n)*s:s/(0,R.O)(r),l((0,S.QQ)(e))}l((0,S.cl)(s)),null==G||G.setCropBoxData({width:m(s)})},handleHeightChange:t=>{if(!o)return;let i=Number(t.target.value),s=i>0?i>o.originalHeight?o.originalHeight:i:0;if("freeform"!==r){let t=e;t="original"===r?o.originalWidth/o.originalHeight*s:"custom"===r?(0,z.c)(n,a)*s:s*(0,R.O)(r),l((0,S.cl)(t))}l((0,S.QQ)(s)),null==G||G.setCropBoxData({height:p(s)})},handleRatioChange:N,toggleCropOrientation:()=>{if(o&&G){if(l((0,S.vr)()),G.setCropBoxData({width:m(t),height:p(e)}),e/t==o.originalWidth/o.originalHeight)N("original");else{let r=w.A.filter(e=>"custom"!==e&&"original"!==e&&"freeform"!==e).find(r=>(0,R.O)(r)===e/t);r?N(r):N("custom")}}},handleTopChange:e=>{l((0,S.y1)(+e.target.value)),null==G||G.setCropBoxData({top:j(+e.target.value)})},handleLeftChange:e=>{l((0,S.VX)(+e.target.value)),null==G||G.setCropBoxData({left:x(+e.target.value)})},resetButtonRef:f,handleSelectAspectRatio:()=>{N("1:1")},handleUnSelectAspectRatio:()=>{N("freeform")},customRatioX:n,customRatioY:a,handleCustomRatioXChange:e=>{l((0,S.SL)(e)),O(e,a)},handleCustomRatioYChange:e=>{l((0,S.E_)(e)),O(n,e)},ratio:r,isCropping:P,isActive:T}},U=(e,t)=>e.crop.height===t.crop.height&&e.crop.width===t.crop.width&&e.crop.ratio===t.crop.ratio&&JSON.stringify(e.image)===JSON.stringify(t.image),M=()=>{let{crop:{top:e}}=(0,c.CG)(y,Q);return{top:e}},Q=(e,t)=>e.crop.top===t.crop.top,Y=e=>{let{handleChange:t}=e,{top:r}=M();return(0,n.jsxs)("div",{className:"my-4",children:[(0,n.jsxs)("div",{className:"capitalize mb-4","data-testid":"top-input-label",children:[(0,n.jsx)(N.vN,{keyName:"position"})," (Y)"]}),(0,n.jsx)(v.I,{className:"w-full",type:"number",min:0,value:Math.round(r),onChange:t,"data-testid":"top-input"})]})},F=()=>{let{crop:{left:e}}=(0,c.CG)(y,X);return{left:e}},X=(e,t)=>e.crop.left===t.crop.left,Z=e=>{let{handleChange:t}=e,{left:r}=F();return(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("div",{className:"capitalize mb-4","data-testid":"left-input-label",children:[(0,n.jsx)(N.vN,{keyName:"position"})," (X)"]}),(0,n.jsx)(v.I,{className:"w-full",type:"number",min:0,value:Math.round(r),onChange:t,"data-testid":"left-input"})]})};var J=r(90668),K=r(8190);let $=()=>{let{handleClick:e,isActive:t,imageLoaded:r}=W();return(0,n.jsx)("div",{className:"w-full",children:(0,n.jsxs)("div",{className:"cursor-pointer ".concat(t?"bg-irBlue-200 dark:bg-darkPrimary-100":"bg-irGray-400 dark:bg-darkSurface-600"," text-white text-center text-2xl flex items-center justify-center gap-2 capitalize font-semibold px-6 py-4 rounded-xl ").concat(t?"hover:bg-irBlue-400 dark:hover:bg-darkPrimary-100":"hover:bg-irGray-600 dark:hover:bg-darkSurface-500"," dark:border-darkSurface-100"),onClick:r=>{t&&(r.stopPropagation(),e())},"data-testid":"crop-button",children:[(0,n.jsx)("div",{className:"capitalize",children:r?t?(0,g.k)("".concat((0,p.V)("crop")," ").concat((0,p.V)("image"))):(0,g.k)((0,p.V)("common:processing")):"Loading"}),t?(0,n.jsx)(K.m,{className:"fill-white"}):(0,n.jsx)(J.a,{className:"stroke-white",width:18,height:18})]})})},q=()=>{let{handleReset:e,handleWidthChange:t,handleHeightChange:r,handleRatioChange:i,handleTopChange:a,handleLeftChange:o,resetButtonRef:l,customRatioX:s,customRatioY:c,handleCustomRatioXChange:d,handleCustomRatioYChange:u,ratio:h}=O();return(0,n.jsxs)("div",{className:"h-full flex flex-col text-black dark:text-white",children:[(0,n.jsxs)("div",{className:"h-full max-h-full overflow-y-scroll scroll",children:[(0,n.jsx)("div",{className:"capitalize text-2xl font-semibold whitespace-nowrap py-4 px-4","data-testid":"crop-settings-title",children:(0,n.jsx)(N.vN,{keyName:"crop-rectangle"})}),(0,n.jsx)("div",{className:"flex flex-col justify-between gap-1 h-full",children:(0,n.jsxs)("div",{className:"flex flex-col gap-1 px-4",children:[(0,n.jsx)(C,{handleWidthChange:t,handleHeightChange:r}),(0,n.jsx)("div",{className:"mb-2 mt-4 capitalize",children:(0,n.jsx)(b,{customRatioX:s,customRatioY:c,handleCropRatioChange:i,handleCustomRatioXChange:d,handleCustomRatioYChange:u,ratio:h})}),(0,n.jsx)("div",{className:"font-semibold text-2xl mt-4 mb-2 capitalize",children:(0,n.jsx)(N.vN,{keyName:"crop-position"})}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(Y,{handleChange:a}),(0,n.jsx)(Z,{handleChange:o})]}),(0,n.jsx)("div",{className:"\n                                    cursor-pointer hidden lg:flex items-center justify-center\n                                    border-irGray-400 border rounded-lg my-6 text-center py-2\n                                    text-xl capitalize hover:bg-irGray-200 dark:bg-darkSurface-300 dark:hover:bg-darkSurface-200 dark:border-darkSurface-100\n                                ",onClick:e,ref:l,"data-testid":"crop-reset-button",children:(0,n.jsx)(N.vN,{keyName:"reset"})})]})})]}),(0,n.jsx)("div",{className:"h-24 w-full",children:(0,n.jsx)("div",{className:"hidden px-1 py-4 lg:flex items-center justify-center bg-white dark:bg-darkSurface-100 border-t border-solid border-t-irGray-200 dark:border-t-darkSurface-600 flex-shrink-0",children:(0,n.jsx)($,{})})})]})};var ee=r(85883);let et=()=>{let{handleReset:e,handleCrop:t,isCropping:r}=O();return(0,n.jsxs)("div",{className:"w-full py-2 px-2 flex items-center justify-center gap-2 border-t border-t-irGray-300 dark:border-t-darkSurface-600 bg-white dark:bg-darkSurface-100 ",children:[(0,n.jsx)("div",{className:"text-white  flex-grow py-2 text-center rounded-xl font-semibold bg-irBlue-200 hover:bg-irBlue-300",onClick:e=>{e.stopPropagation(),r||t()},children:r?(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)(J.a,{className:"stroke-white",width:20,height:20})}):(0,n.jsx)(N.vN,{keyName:"crop"})}),(0,n.jsx)("div",{className:"bg-white dark:bg-darkSurface-300 text-black dark:text-white border border-irGray-400 dark:border-darkSurface-200 rounded-xl px-8 py-2 font-semibold",onClick:t=>{t.stopPropagation(),e()},children:(0,n.jsx)(N.vN,{keyName:"reset"})})]})},er=()=>{let{isOpen:e,open:t,close:r}=u();return(0,n.jsxs)("div",{className:"py-4 px-4 dark:bg-darkSurface-100 dark:border-t dark:border-t-darkSurface-600",children:[(0,n.jsxs)("div",{className:"bg-irBlue-200 dark:bg-darkPrimary-100 rounded-xl flex items-center justify-center py-2 gap-4",onClick:t,children:[(0,n.jsx)(h.e,{}),(0,n.jsx)("div",{className:"text-white font-semibold text-xl capitalize",children:(0,g.k)("".concat((0,p.V)("crop")," ").concat((0,p.V)("settings")))})]}),(0,n.jsx)(f.k,{isOpen:e,onClose:r,interactiveBackground:!0,titleBar:(0,n.jsxs)("div",{className:"w-full flex items-center justify-between px-4 pt-2 text-black dark:text-white",children:[(0,n.jsx)("div",{className:"capitalize text-xl whitespace-nowrap font-semibold",children:"Crop Settings"}),(0,n.jsx)("div",{className:"bg-irGray-300 dark:bg-darkSurface-200 h-6 w-6 rounded-full flex items-center justify-center",onClick:r,id:ee.T,children:(0,n.jsx)(m.T,{})})]}),bottomSection:(0,n.jsx)(et,{}),children:(0,n.jsx)("div",{className:"px-4 py-8 text-black",children:(0,n.jsx)(q,{})})})]})};var en=r(27181),ei=r(44698),ea=r(69391),eo=r(43760),el=r(89007),es=r(294),ec=r(77591);let ed=()=>{let{image:e,upload:t}=(0,c.CG)(y,eu),{parentImageRef:r,cropRef:n,imageLoaded:a,setImageLoaded:o,initialImageRef:d}=(0,s.useContext)(i.F),u=(0,s.useRef)(null),h=(0,c.TL)(),[f,m]=(0,s.useState)(!0),[g,v]=(0,s.useState)("0 KB"),x=(0,s.useRef)(!1),w=(0,l.useRouter)(),b=(0,ec.p)();(0,D.y)(n);let j=(0,p.V)("common:corrupt-image-toast-test");O();let k=()=>{(0,P.S)("event","Editor Loaded",{event_category:"Image Cropper",event_label:"Editor Page"})},N=async()=>{let i=null==r?void 0:r.current,l=null==d?void 0:d.current,s=null==n?void 0:n.current,c=u.current;if(!i||!c||a||!e||x.current||!l||!s)return;x.current=!0,k();let{src:h}=await (0,ei.P)(t,e.src,0,(e,t)=>v((0,ea.t)(t)),{},e.ext),{image:f,error:g}=await (0,_.p)(h);if(g)b.toast({closeable:!0,position:"top-right",status:"error",text:j,time:es.w}),setTimeout(()=>{m(!1),w.back()},500);else{await (0,el.L)(h,l);let{width:e,height:t}=C(f,c.getBoundingClientRect().width,c.getBoundingClientRect().height);i.width=e,i.height=t,await (0,el.L)(h,i).then(t=>{l.width=e,o(!0),m(!1)}).catch(e=>{o(!1),b.toast({closeable:!0,position:"top-right",status:"error",text:j,time:es.w}),setTimeout(()=>{m(!1),w.back()},500)})}},C=(t,r,n)=>{var i,a,o,l;let{width:s,height:c}=(0,en.c)(t.width,t.height,r,n,!1);return h((0,S.QL)({src:null!==(i=null==e?void 0:e.src)&&void 0!==i?i:"",height:c,width:s,initialHeight:c,initialWidth:s,originalWidth:t.width,originalHeight:t.height,ratio:t.width/t.height,title:null!==(a=null==e?void 0:e.title)&&void 0!==a?a:"",containerWidth:r,containerHeight:n,ext:null!==(l=null==e?void 0:e.ext)&&void 0!==l?l:(0,eo.v)(null!==(o=null==e?void 0:e.src)&&void 0!==o?o:"")})),{width:s,height:c}};return(0,s.useEffect)(()=>{a||N()},[null==r?void 0:r.current,e]),{image:e,cropRef:n,previewContainerRef:u,parentImageRef:r,isLoading:f,initialImageRef:d,downloaded:g}},eu=(e,t)=>JSON.stringify(e.image)===JSON.stringify(t.image),eh=()=>{let{previewContainerRef:e,parentImageRef:t,cropRef:r,isLoading:i,initialImageRef:a,downloaded:o}=ed();return(0,n.jsx)("div",{className:"relative overflow-hidden h-full w-full",children:(0,n.jsxs)("div",{className:"absolute inset-0 h-2/3 lg:h-full overflow-hidden mx-auto flex items-start lg:items-center justify-center",ref:e,children:[(0,n.jsxs)("div",{className:"inline-block",children:[(0,n.jsx)("img",{ref:t,className:"hidden"}),(0,n.jsx)("img",{ref:a,className:"hidden"}),(0,n.jsx)("img",{ref:r,className:"".concat(i?"hidden":""),"data-testid":"crop-preview"})]}),i&&(0,n.jsxs)("div",{className:"flex flex-col gap-4 items-center",children:[(0,n.jsx)(J.a,{className:"stroke-[var(--dark-gray)]",height:35,width:35}),(0,n.jsx)("div",{className:"font-semibold dark:text-white",children:"".concat(o," ").concat((0,g.k)((0,p.V)("downloaded")))})]})]})})},ef=()=>{let e=(0,c.CG)(e=>e.crop.fromEditor),t=(0,l.useRouter)();return(0,s.useEffect)(()=>{e||t.replace("/crop-image")},[]),(0,n.jsx)(a.H,{navbar:(0,n.jsx)(o.EditorNavbar,{actionButton:null,url:"/crop-image/editor"}),action:{desktop:null},bottomMenu:(0,n.jsx)(er,{}),controlBar:null,preview:(0,n.jsx)(eh,{}),leftBar:(0,n.jsx)(q,{})})};var em=r(9008),eg=r.n(em),ep=r(31804),ev=r(87694),ex=r(58092);let ew=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eg(),{children:(0,n.jsx)("title",{children:(0,p.V)("page-title")})}),(0,n.jsx)(ex.m,{children:(0,n.jsx)(i.K,{children:(0,n.jsx)(ef,{})})})]}),eb=["single-resizer-editor","crop-editor",...ev.y];var ey=!0,ej=()=>(0,n.jsx)(ep.i,{files:eb,children:(0,n.jsx)(ew,{})})},25934:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});for(var n,i=new Uint8Array(16),a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=[],l=0;l<256;++l)o.push((l+256).toString(16).substr(1));var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!("string"==typeof r&&a.test(r)))throw TypeError("Stringified UUID is invalid");return r},c=function(e,t,r){var a=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=a[o];return t}return s(a)}}},function(e){e.O(0,[41664,28062,68212,96400,44887,57989,74060,53181,92888,49774,40179],function(){return e(e.s=77594)}),_N_E=e.O()}]);
//# sourceMappingURL=editor-2bcd7d11f2d97481.js.map